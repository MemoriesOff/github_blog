---
layout: post
title: 智能车比赛的一些总结
tags: 感悟 体会 
categories: 飞思卡尔智能车竞赛
---
比赛结束已经两个多月了，接着给学校提交相关资料的机会，在这里也做一些总结好了

#关于原程序

比赛用的那套程序已经放在了我的github上了，虽然靠着这个程序拿了个赛区二等奖，但现在再翻，还是有不少问题的。

首先，变量命名时用了大量汉语拼音，以及半拼音半英文的东西，在当时为了方便编写，也为了方便讨论交流，就凑合着用了。  

其次，一些功能没有预留接口，一些相同或相似的程序段为了服务不同的程序出现了多次。比如计算边线周围白色区域大小的程序，
判断单线时使用过一个，用来判断障碍时则使用了另一个。当时单线和障碍由两个人边线，之前没有沟通好，于是各自写了一个，
后期整合时由于时间关系没有整合，也就各用各的了。

此外，还有一个可笑的地方。因为要提取5行的边线，而提取的函数则用了五个，究其原因，函数中关于上一次赛道中点的变量采取的是静态变量，
而第二行和第二十行的赛道中点显然是不一样的，所以要用五个，其实多用一点时间，把那个静态变量改为这个函数的输入，就不会出现这样的问题，一个函数就能解决。

#关于比赛

准备这个比赛大概用了半年，前期学习各个外设硬件，编写相应驱动用了大量的时间，遇到的种种问题有些也很有意思，可惜当时未作记录。当然也
遇到过因为批次不同导致寄存器地址不同，接受端波特率9600而发射端默认115200等坑爹问题。

后期编写整车程序，尝试算法，确定参数也费了不少力气，虽然最后的程序只有800多行，几篇文章便能完全概括。但当时想、写的时候着实费了不少力气。  

至于比赛过程，建议大家第一天试车的时候派一个人用手机录像，回去再对照着录像分析问题，否则的话那15分钟很难有什么收获。

最后提一点，比赛什么的，实力是一方面，运气也是一方面，有些队实力很强，队员也很努力，然而却没有跑完全程，着实让人叹息。所以，一个胜不骄败不馁的心态很重要。

#其它一些碎碎念

很怀恋准备这场比赛时无忧无虑奋斗的日子，我和我的一个舍友一个负责软件，一个负责硬件，几乎两个人完成了整个比赛。当时我们两个就是来玩的，并不能体会到那些学长们
为了几分的保研加分拼死也要拿个奖的心态。如今到了大三，我的那个舍友为了能够保研拼命学习，而我自己也面临着和当初的学长一样的纠结，纯洁的事情一旦沾了利益便不再纯洁
只怕再也不会有之前那样的心态，去体会比赛的乐趣了。

* * *
    
整车程序：[https://github.com/MemoriesOff/Freescale](https://github.com/MemoriesOff/Freescale)


赛道元素提取与应对：[http://www.acgtrip.com/2015-07-13/freescale-yuansu/](http://www.acgtrip.com/2015-07-13/freescale-yuansu/)

智能车黑线提取算法：[http://www.acgtrip.com/2015-06-10/freescale-tixian/](http://www.acgtrip.com/2015-06-10/freescale-tixian/)

为说明方便，文章中程序段与整车程序略有不同。
